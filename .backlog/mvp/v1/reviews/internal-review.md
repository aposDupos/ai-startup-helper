# Внутренний обзор плана

**Рецензент:** Antigravity (архитектурный ревью)  
**Дата:** 2026-02-28

---

## Сильные стороны плана

1. **Чёткая фазовая структура** — 6 фаз по 2–4 недели логично выстроены по зависимостям
2. **GigaChat как ограничение** — правильно выделен как архитектурный риск
3. **Схема БД** — покрывает все ключевые сущности, JSONB для гибкости
4. **LLM-абстракция** — позволяет переключиться с GigaChat при необходимости

## Замечания и рекомендации

### 1. GigaChat API — критический unknowns
- **Function calling:** На момент 2026 GigaChat может не поддерживать function calling в формате OpenAI. Нужен fallback: JSON-mode через system prompt + парсинг.
- **Streaming:** Проверить поддержку SSE в GigaChat API. Если нет → long polling.
- **Embeddings:** GigaChat embedding модель может иметь другую размерность (не 1024). Уточнить и параметризировать.
- **Рекомендация:** Добавить в Фазу 1 задачу «GigaChat API: Proof of Concept (auth, chat, streaming, embeddings)» как blocking task.

### 2. RAG — вынести в более раннюю фазу
- RAG запланирован на Фазу 5 (июль), но качество AI-ответов критически зависит от RAG.
- **Рекомендация:** Минимальный RAG prototype в Фазе 2 (параллельно с AI Core). Полноценный RAG — в Фазе 5.

### 3. Согласие родителей — не уточнён flow
- Для 14–17 лет требуется согласие родителей (152-ФЗ). Не описан UX-flow.
- **Рекомендация:** Добавить в Фазу 1 onboarding: если возраст < 18 → экран «Получить согласие родителя» (email/SMS подтверждение).

### 4. Контент для Academy — риск задержки
- 10–15 микро-уроков — значительный объём контента, требующий экспертизы.
- **Рекомендация:** Начать создание контента в Фазе 1 параллельно с разработкой. Использовать GigaChat для draft, затем ручная модерация.

### 5. Отсутствует стратегия кэширования
- GigaChat API может быть дорогим при масштабе. Нет упоминания кэширования.
- **Рекомендация:** Кэшировать RAG-результаты, частые AI-ответы (FAQ), embedding-результаты.

### 6. Мониторинг AI
- Нет упоминания observability для AI (latency, token usage, error rates).
- **Рекомендация:** Добавить LangSmith или кастомный logging для AI-вызовов.

### 7. Тестирование AI — недостаточно детализировано
- «Качество ответов на бизнес-вопросы» — слишком размыто.
- **Рекомендация:** Создать eval-набор из 50+ пар (промпт → ожидаемый ответ) для regression testing.

### 8. SberID — неясный приоритет
- Упоминается как «потенциальная интеграция». Если это сберовский продукт, SberID может быть обязательным.
- **Рекомендация:** Уточнить у стейкхолдера приоритет SberID. Если обязателен — добавить в Фазу 1.

---

## Общая оценка

План зрелый и реалистичный для 5–6 месяцев с фулстек-командой. Основные риски сосредоточены вокруг GigaChat API capabilities и объёма контента Academy. Рекомендуется вынести GigaChat PoC в самое начало проекта.
