# Sprint 04 ‚Äî Academy + Gamification (–ò—é–Ω—å 2026, ~4 –Ω–µ–¥–µ–ª–∏)

**–°–µ–∫—Ü–∏—è –ø–ª–∞–Ω–∞:** `.backlog/mvp/v1/sections/section-04-academy-gamification.md`
**–¶–µ–ª—å:** –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∏ –≤–æ–≤–ª–µ—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—é.
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Sprint 01‚Äì02 –∑–∞–≤–µ—Ä—à–µ–Ω—ã.

---

## –ó–∞–¥–∞—á–∏

### S04-001: –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î ‚Äî academy + gamification
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S01-005
**–û–ø–∏—Å–∞–Ω–∏–µ:** –¢–∞–±–ª–∏—Ü—ã –¥–ª—è —É—Ä–æ–∫–æ–≤, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π, XP, —á–µ–ª–ª–µ–Ω–¥–∂–µ–π.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `supabase/migrations/004_academy_gamification.sql`
- –¢–∞–±–ª–∏—Ü—ã: lesson_modules, lessons, user_lesson_progress, achievements, user_achievements, xp_transactions, levels, challenges, user_challenges
- Seed data: 5 levels, 15+ achievements
- RLS policies
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã, –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- [ ] Seed data: 5 levels —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∏ –ø–æ—Ä–æ–≥–∞–º–∏ XP
- [ ] RLS: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å

---

### S04-002: –ö–æ–Ω—Ç–µ–Ω—Ç —É—Ä–æ–∫–æ–≤ (seed)
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S04-001
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç 10 –º–æ–¥—É–ª–µ–π —Å 1‚Äì3 —É—Ä–æ–∫–∞–º–∏ –∫–∞–∂–¥—ã–π.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `supabase/seed-lessons.sql` –∏–ª–∏ `scripts/seed-lessons.ts`
- 10 –º–æ–¥—É–ª–µ–π –ø–æ –ø–ª–∞–Ω—É –∏–∑ section-04 (–°—Ç–∞—Ä—Ç–∞–ø, –ü—Ä–æ–±–ª–µ–º–∞, CustDev, Lean, BMC, –Æ–Ω–∏—Ç-—ç–∫–æ–Ω–æ–º–∏–∫–∞, MVP, –ü–∏—Ç—á, –ö–æ–º–∞–Ω–¥–∞, –§–∏–Ω–∞–Ω—Å—ã)
- –§–æ—Ä–º–∞—Ç JSONB: heading, paragraph, callout, quiz
- Audience —Ç–∞–≥: all / school / university
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] 10+ —É—Ä–æ–∫–æ–≤ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ –ë–î
- [ ] –ö–∞–∂–¥—ã–π —É—Ä–æ–∫ –∏–º–µ–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ JSONB —Ñ–æ—Ä–º–∞—Ç–µ
- [ ] Audience —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

---

### S04-003: Academy UI ‚Äî —Å–ø–∏—Å–æ–∫ –º–æ–¥—É–ª–µ–π
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S04-002
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º —É—á–µ–±–Ω—ã—Ö –º–æ–¥—É–ª–µ–π.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `src/app/(main)/academy/page.tsx`
- –°–æ–∑–¥–∞—Ç—å `src/components/academy/ModuleCard.tsx` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ –º–æ–¥—É–ª—è
- –ü—Ä–æ–≥—Ä–µ—Å—Å: X/Y —É—Ä–æ–∫–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ
- –§–∏–ª—å—Ç—Ä: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —É—Ä–æ–∫–∏ –ø–æ audience (role –∏–∑ profiles)
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –º–æ–¥—É–ª—è–º
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –ú–æ–¥—É–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
- [ ] –®–∫–æ–ª—å–Ω–∏–∫–∏ –Ω–µ –≤–∏–¥—è—Ç —É—Ä–æ–∫–∏ ¬´university only¬ª
- [ ] –ö–ª–∏–∫ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ —É—Ä–æ–∫–∞–º –º–æ–¥—É–ª—è

---

### S04-004: –£—Ä–æ–∫ + Quiz Widget
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S04-003
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —É—Ä–æ–∫–∞ —Å rich content –∏ –∫–≤–∏–∑–∞–º–∏.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `src/app/(main)/academy/[lessonId]/page.tsx`
- –°–æ–∑–¥–∞—Ç—å `src/components/academy/LessonContent.tsx` ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ JSONB-–∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –°–æ–∑–¥–∞—Ç—å `src/components/academy/QuizWidget.tsx` ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–≤–∏–∑
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–ª–æ–∫–æ–≤: heading, paragraph, callout, image, quiz
- –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏: mark completed + award XP
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –ö–æ–Ω—Ç–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∏–∑ JSONB (–≤—Å–µ —Ç–∏–ø—ã –±–ª–æ–∫–æ–≤)
- [ ] –ö–≤–∏–∑ —Ä–∞–±–æ—Ç–∞–µ—Ç: –≤—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- [ ] –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏: progress = completed, XP –Ω–∞—á–∏—Å–ª–µ–Ω—ã
- [ ] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç 100%: –±–æ–Ω—É—Å–Ω—ã–µ 10 XP

---

### S04-005: XP —Å–∏—Å—Ç–µ–º–∞
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S04-001
**–û–ø–∏—Å–∞–Ω–∏–µ:** –õ–æ–≥–∏–∫–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è XP –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Ä–æ–≤–Ω—è.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `src/lib/gamification/xp.ts` ‚Äî awardXP(userId, amount, source, sourceId)
- –ó–∞–ø–∏—Å—å –≤ `xp_transactions`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `profiles.xp`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ level up: –µ—Å–ª–∏ XP >= levels.min_xp ‚Üí update level ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –°–æ–∑–¥–∞—Ç—å `src/components/gamification/XPToast.tsx` ‚Äî toast –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ XP
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] XP –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ xp_transactions
- [ ] profiles.xp –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- [ ] –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ ‚Üí level –ø–æ–≤—ã—à–∞–µ—Ç—Å—è
- [ ] Toast ¬´+30 XP¬ª —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π

---

### S04-006: Badges –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S04-005
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –≤—ã–¥–∞—á–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `src/lib/gamification/achievements.ts` ‚Äî checkAndAwardAchievements()
- –ü—Ä–æ–≤–µ—Ä–∫–∞ criteria –∏–∑ `achievements.criteria` (JSONB)
- –°–æ–∑–¥–∞—Ç—å `src/components/gamification/AchievementGrid.tsx` ‚Äî —Å–µ—Ç–∫–∞ –±–µ–π–¥–∂–µ–π
- –°–æ–∑–¥–∞—Ç—å `src/components/gamification/AchievementUnlockedModal.tsx` ‚Äî –º–æ–¥–∞–ª–∫–∞
- –í—ã–∑—ã–≤–∞—Ç—å `checkAchievements` –ø—Ä–∏: XP, lesson completion, stage change
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] –ë–µ–π–¥–∂–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (unlocked —Ü–≤–µ—Ç–Ω—ã–µ, locked —Å–µ—Ä—ã–µ)
- [ ] –ú–æ–¥–∞–ª–∫–∞ ¬´–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ!¬ª —Å spring-–∞–Ω–∏–º–∞—Ü–∏–µ–π
- [ ] 15+ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ

---

### S04-007: –°—Ç—Ä–∏–∫–∏
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S04-005
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —Å–µ—Ä–∏–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `src/lib/gamification/streaks.ts` ‚Äî updateStreak(userId)
- –õ–æ–≥–∏–∫–∞: if last_active = yesterday ‚Üí streak++; else ‚Üí streak = 1
- –ë–æ–Ω—É—Å XP –Ω–∞ milestone: 7, 14, 30, 60, 100 –¥–Ω–µ–π
- –°–æ–∑–¥–∞—Ç—å `src/components/gamification/StreakFlame.tsx` ‚Äî üî• + counter
- –í—ã–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –°—Ç—Ä–∏–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –≤–∏–∑–∏—Ç–∞—Ö
- [ ] –°—Ç—Ä–∏–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ –¥–Ω—è
- [ ] –ë–æ–Ω—É—Å XP –Ω–∞ milestone —Å—Ç—Ä–∏–∫–∞—Ö
- [ ] üî• –∞–Ω–∏–º–∞—Ü–∏—è (wiggle) –≤ header

---

### S04-008: –õ–∏–¥–µ—Ä–±–æ—Ä–¥
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S04-005
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `src/app/(main)/leaderboard/page.tsx`
- –°–æ–∑–¥–∞—Ç—å `src/components/gamification/LeaderboardTable.tsx`
- 3 –≤–∫–ª–∞–¥–∫–∏: –û–±—â–∏–π, –ú–æ–π –≥–æ—Ä–æ–¥, –ú–æ—ë —É—á—Ä–µ–∂–¥–µ–Ω–∏–µ
- –¢–æ–ø 100 –ø–æ XP
- –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Å–≤–µ—á–µ–Ω
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –¢–æ–ø 100 –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –∞–≤–∞—Ç–∞—Ä–æ–º, –∏–º–µ–Ω–µ–º, —É—Ä–æ–≤–Ω–µ–º, XP
- [ ] 3 –≤–∫–ª–∞–¥–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–¥–µ–ª–µ–Ω
- [ ] Responsive —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º

---

### S04-009: Gamification –≤ Dashboard
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S04-005, S04-006, S04-007
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è gamification –≤ dashboard –∏ header.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –û–±–Ω–æ–≤–∏—Ç—å `StageProgress`, `XPCard`, `StreakCard` —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –î–æ–±–∞–≤–∏—Ç—å `LevelProgress` ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –±–µ–π–¥–∂–∏
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å level-up –º–æ–¥–∞–ª–∫—É –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–æ–≤—ã—Å–∏–ª—Å—è
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] Dashboard –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ XP, level, streak
- [ ] Progress bar –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è
- [ ] –ü–æ—Å–ª–µ–¥–Ω–∏–µ 3 –±–µ–π–¥–∂–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
