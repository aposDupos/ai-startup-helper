# Sprint 15 ‚Äî Daily Quest & Polish (~1 –Ω–µ–¥)

**–¶–µ–ª—å:** Daily Quest engine + PWA + —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞.
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S10-S14 –∑–∞–≤–µ—Ä—à–µ–Ω—ã.

---

## S15-001: Daily Quest Engine
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S07-002, S08-003
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∫–≤–µ—Å—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞–¥–∏–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `src/lib/gamification/daily-quest.ts`:
  - –§—É–Ω–∫—Ü–∏—è `generateDailyQuest(userId, projectId)`: –Ω–∞ –æ—Å–Ω–æ–≤–µ stage + progress_data
  - –¢–∏–ø—ã –∫–≤–µ—Å—Ç–æ–≤: –ø—Ä–æ–π—Ç–∏ micro-—É—Ä–æ–∫, –∑–∞–ø–æ–ª–Ω–∏—Ç—å 1 –±–ª–æ–∫ BMC, —Å–¥–µ–ª–∞—Ç—å 1 checklist item, –æ—Å—Ç–∞–≤–∏—Ç—å peer review, –ø—Ä–æ–π—Ç–∏ quiz
  - –ê–ª–≥–æ—Ä–∏—Ç–º: –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –≤—á–µ—Ä–∞—à–Ω–∏–π –∫–≤–µ—Å—Ç, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö items
  - –ó–∞–ø–∏—Å—å: —Ç–∞–±–ª–∏—Ü–∞ `daily_quests` (user_id, quest_type, quest_target, completed, created_at)
- +15 XP –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
**–§–∞–π–ª—ã:**
- `src/lib/gamification/daily-quest.ts` [NEW]
- `supabase/migrations/016_daily_quests.sql` [NEW]
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è 1 –∫–≤–µ—Å—Ç
- [ ] –ö–≤–µ—Å—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–µ–Ω —Ç–µ–∫—É—â–µ–π —Å—Ç–∞–¥–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –ù–µ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –ø–æ–¥—Ä—è–¥
- [ ] +15 XP –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

---

## S15-002: Daily Quest UI
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S15-001
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–≤–µ—Å—Ç–∞ –Ω–∞ Dashboard.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `src/components/gamification/DailyQuestCard.tsx`:
  - "üéØ –ö–≤–µ—Å—Ç –¥–Ω—è: –ó–∞–ø–æ–ª–Ω–∏ Customer Segments –≤ BMC (+15 XP)"
  - –ö–Ω–æ–ø–∫–∞ "–í—ã–ø–æ–ª–Ω–∏—Ç—å" ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ –¥–µ–π—Å—Ç–≤–∏—é
  - –°—Ç–∞—Ç—É—Å: pending / completed —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
  - Timer –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è
- –î–æ–±–∞–≤–∏—Ç—å –Ω–∞ Dashboard –ø–æ—Å–ª–µ Journey Map
**–§–∞–π–ª—ã:**
- `src/components/gamification/DailyQuestCard.tsx` [NEW]
- `src/app/(main)/dashboard/page.tsx` ‚Äî add quest card section
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –ö–∞—Ä—Ç–æ—á–∫–∞ –Ω–∞ Dashboard —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–≤–µ—Å—Ç–∞
- [ ] "–í—ã–ø–æ–ª–Ω–∏—Ç—å" –≤–µ–¥—ë—Ç –∫ –Ω—É–∂–Ω–æ–º—É –¥–µ–π—Å—Ç–≤–∏—é
- [ ] –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî ‚úÖ + XP toast
- [ ] Timer –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ –æ—Å—Ç–∞–ª–æ—Å—å –¥–æ —Å–±—Ä–æ—Å–∞

---

## S15-003: Streak Freeze
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S07-001
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å "–∑–∞–º–æ—Ä–æ–∑–∏—Ç—å" —Å—Ç—Ä–∏–∫ –ø—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ –¥–Ω—è.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –¢–∞–±–ª–∏—Ü–∞ `streak_freezes`: user_id, used_at, week_start
- –ü—Ä–∞–≤–∏–ª–æ: 1 freeze –≤ –Ω–µ–¥–µ–ª—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- UI: –µ—Å–ª–∏ streak_last_active –≤—á–µ—Ä–∞ != today –∏ last_active != yesterday ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å "‚ùÑÔ∏è –ó–∞–º–æ—Ä–æ–∑–∏—Ç—å —Å—Ç—Ä–∏–∫?"
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏: streak –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
**–§–∞–π–ª—ã:**
- `supabase/migrations/016_daily_quests.sql` ‚Äî streak_freezes table
- `src/lib/gamification/streaks.ts` ‚Äî freeze logic
- `src/components/gamification/StreakFreezeModal.tsx` [NEW]
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –ü—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ –¥–Ω—è ‚Äî –º–æ–¥–∞–ª–∫–∞ "–ó–∞–º–æ—Ä–æ–∑–∏—Ç—å —Å—Ç—Ä–∏–∫?"
- [ ] –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 1 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
- [ ] –°—Ç—Ä–∏–∫ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ freeze
- [ ] –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç—É –∂–µ –Ω–µ–¥–µ–ª—é ‚Üí "Freeze —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω"

---

## S15-004: PWA + Push Notifications
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S15-002
**–û–ø–∏—Å–∞–Ω–∏–µ:** Progressive Web App —Å push-–Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏.
**–î–µ–π—Å—Ç–≤–∏—è:**
- –°–æ–∑–¥–∞—Ç—å `public/manifest.json` ‚Äî PWA manifest
- –°–æ–∑–¥–∞—Ç—å `public/sw.js` ‚Äî Service Worker (–∫—ç—à + push)
- `next.config.ts`: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å PWA headers
- Push notifications —á–µ—Ä–µ–∑ Web Push API:
  - "–ù–µ —Å–ª–æ–º–∞–π —Å—Ç—Ä–∏–∫ üî•!" (–µ—Å–ª–∏ –Ω–µ –∑–∞—Ö–æ–¥–∏–ª –¥–æ –≤–µ—á–µ—Ä–∞)
  - "–ù–æ–≤—ã–π –∫–≤–µ—Å—Ç –∂–¥—ë—Ç" (—É—Ç—Ä–æ–º)
  - "–ö—Ç–æ-—Ç–æ –æ—Å—Ç–∞–≤–∏–ª —Ä–µ–≤—å—é –Ω–∞ —Ç–≤–æ–π BMC" (–ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ä–µ–≤—å—é)
- Supabase Edge Function –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ push
**–§–∞–π–ª—ã:**
- `public/manifest.json` [NEW]
- `public/sw.js` [NEW]
- `supabase/functions/push-notification/index.ts` [NEW]
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ PWA
- [ ] Push-–∑–∞–ø—Ä–æ—Å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞—Ö–æ–¥–µ
- [ ] Push "–ù–µ —Å–ª–æ–º–∞–π —Å—Ç—Ä–∏–∫" –ø—Ä–∏—Ö–æ–¥–∏—Ç –µ—Å–ª–∏ –Ω–µ –∑–∞—Ö–æ–¥–∏–ª –¥–æ 20:00
- [ ] Push –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ä–µ–≤—å—é

---

## S15-005: Weekly Progress Report
**–°—Ç–∞—Ç—É—Å:** [ ]
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** S12-002 (Scorecard)
**–û–ø–∏—Å–∞–Ω–∏–µ:** AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∏–Ω–∏-–æ—Ç—á—ë—Ç –∑–∞ –Ω–µ–¥–µ–ª—é.
**–î–µ–π—Å—Ç–≤–∏—è:**
- `src/lib/reporting/weekly.ts`: —Å–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ 7 –¥–Ω–µ–π (XP earned, lessons completed, checklist items, scorecard change)
- AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á—ë—Ç: –∏—Ç–æ–≥–∏ + —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –Ω–∞ –Ω–µ–¥–µ–ª—é
- –ü–æ–∫–∞–∑ –Ω–∞ Dashboard –∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ (–∏–ª–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞—Ö–æ–¥–µ –Ω–∞ –Ω–µ–¥–µ–ª–µ)
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `WeeklyReportCard.tsx` ‚Äî —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∞—è—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞
**–§–∞–π–ª—ã:**
- `src/lib/reporting/weekly.ts` [NEW]
- `src/components/gamification/WeeklyReportCard.tsx` [NEW]
- `src/app/(main)/dashboard/page.tsx` ‚Äî show on Mondays
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:**
- [ ] –û—Ç—á—ë—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫
- [ ] –°–æ–¥–µ—Ä–∂–∏—Ç: XP –∑–∞ –Ω–µ–¥–µ–ª—é, —É—Ä–æ–∫–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ, items –∑–∞–≤–µ—Ä—à–µ–Ω–æ
- [ ] –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Score: –±—ã–ª–æ ‚Üí —Å—Ç–∞–ª–æ
- [ ] AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –Ω–µ–¥–µ–ª—é
