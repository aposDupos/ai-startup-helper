/**
 * Seed 10 lessons (2 per stage) into Supabase.
 *
 * Usage: npx tsx scripts/seed-lessons.ts
 *
 * Requires: NEXT_PUBLIC_SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY in .env.local
 */

import { config } from "dotenv";
config({ path: ".env.local" });
import { createClient } from "@supabase/supabase-js";

const supabase = createClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.SUPABASE_SERVICE_ROLE_KEY!
);

interface LessonSeed {
    stage: string;
    title: string;
    content: object[];
    quiz: object[];
    duration_min: number;
    audience: string;
    sort_order: number;
}

const lessons: LessonSeed[] = [
    // ‚îÄ‚îÄ‚îÄ IDEA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        stage: "idea",
        title: "–ö–∞–∫ –Ω–∞–π—Ç–∏ –∏–¥–µ—é —Å—Ç–∞—Ä—Ç–∞–ø–∞",
        duration_min: 7,
        audience: "all",
        sort_order: 1,
        content: [
            { type: "heading", text: "–ì–¥–µ –∏—Å–∫–∞—Ç—å –∏–¥–µ–∏?" },
            {
                type: "paragraph",
                text: "–õ—É—á—à–∏–µ —Å—Ç–∞—Ä—Ç–∞–ø—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å —Ä–µ–∞–ª—å–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã. –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–≤–æ–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏—è ‚Äî –∫–∞–∂–¥–∞—è –Ω–µ—É–¥–æ–±–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –±–∏–∑–Ω–µ—Å-–∏–¥–µ–µ–π.",
            },
            {
                type: "callout",
                variant: "tip",
                text: "–°–æ–≤–µ—Ç: –∑–∞–≤–µ–¥–∏ ¬´–¥–Ω–µ–≤–Ω–∏–∫ –ø—Ä–æ–±–ª–µ–º¬ª ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–π –≤—Å—ë, —á—Ç–æ —Ç–µ–±—è –±–µ—Å–∏—Ç, –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏.",
            },
            {
                type: "paragraph",
                text: "–¢—Ä–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏–¥–µ–π: 1) –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–ø—ã—Ç ‚Äî —á—Ç–æ —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç –ª–∏—á–Ω–æ —Ç–µ–±—è? 2) –ù–∞–±–ª—é–¥–µ–Ω–∏–µ ‚Äî —á—Ç–æ –º–µ—à–∞–µ—Ç –ª—é–¥—è–º –≤–æ–∫—Ä—É–≥? 3) –¢—Ä–µ–Ω–¥—ã ‚Äî –∫–∞–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –º–µ–Ω—è—é—Ç –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã?",
            },
        ],
        quiz: [
            {
                question: "–ö–∞–∫–æ–π —Å–∞–º—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Å—Ç–∞—Ä—Ç–∞–ø-–∏–¥–µ–π?",
                options: [
                    "–°–ª—É—á–∞–π–Ω—ã–π –º–æ–∑–≥–æ–≤–æ–π —à—Ç—É—Ä–º",
                    "–†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ç—ã –∏—Å–ø—ã—Ç—ã–≤–∞–µ—à—å —Å–∞–º",
                    "–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—Ä—É–±–µ–∂–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞–ø–∞",
                    "–ú–æ–¥–Ω—ã–π —Ç–µ—Ö–Ω–æ—Ç—Ä–µ–Ω–¥",
                ],
                correct: 1,
            },
        ],
    },
    {
        stage: "idea",
        title: "ICE-–æ—Ü–µ–Ω–∫–∞ –∏–¥–µ–∏",
        duration_min: 5,
        audience: "all",
        sort_order: 2,
        content: [
            { type: "heading", text: "–ß—Ç–æ —Ç–∞–∫–æ–µ ICE Score?" },
            {
                type: "paragraph",
                text: "ICE ‚Äî –ø—Ä–æ—Å—Ç–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∏–¥–µ–π –ø–æ —Ç—Ä—ë–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º: Impact (–≤–ª–∏—è–Ω–∏–µ), Confidence (—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å), Ease (–ø—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏). –ö–∞–∂–¥—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –æ—Ç 1 –¥–æ 10.",
            },
            {
                type: "callout",
                variant: "info",
                text: "ICE Score = Impact √ó Confidence √ó Ease. –ß–µ–º –≤—ã—à–µ ‚Äî —Ç–µ–º –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–µ–µ –∏–¥–µ—è.",
            },
            {
                type: "paragraph",
                text: "Impact: –Ω–∞—Å–∫–æ–ª—å–∫–æ –∏–¥–µ—è –∏–∑–º–µ–Ω–∏—Ç –∂–∏–∑–Ω—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π? Confidence: –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ç—ã —É–≤–µ—Ä–µ–Ω –≤ –æ—Ü–µ–Ω–∫–µ? Ease: –∫–∞–∫ –ª–µ–≥–∫–æ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å?",
            },
        ],
        quiz: [
            {
                question: "–ò–¥–µ—è –ø–æ–ª—É—á–∏–ª–∞ –æ—Ü–µ–Ω–∫—É Impact=8, Confidence=3, Ease=9. ICE Score —Ä–∞–≤–µ–Ω:",
                options: ["20", "216", "6.7", "80"],
                correct: 1,
            },
        ],
    },

    // ‚îÄ‚îÄ‚îÄ VALIDATION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        stage: "validation",
        title: "–ß—Ç–æ —Ç–∞–∫–æ–µ CustDev",
        duration_min: 8,
        audience: "all",
        sort_order: 1,
        content: [
            { type: "heading", text: "Customer Development" },
            {
                type: "paragraph",
                text: "CustDev (Customer Development) ‚Äî –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∏–∑–Ω–µ—Å-–≥–∏–ø–æ—Ç–µ–∑ —á–µ—Ä–µ–∑ –æ–±—â–µ–Ω–∏–µ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏. –¶–µ–ª—å ‚Äî –ø–æ–Ω—è—Ç—å, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –≥–æ—Ç–æ–≤—ã –ª–∏ –ª—é–¥–∏ –ø–ª–∞—Ç–∏—Ç—å –∑–∞ —Ä–µ—à–µ–Ω–∏–µ.",
            },
            {
                type: "callout",
                variant: "warning",
                text: "–ì–ª–∞–≤–Ω–∞—è –æ—à–∏–±–∫–∞: —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å ¬´–¢—ã –±—ã –∫—É–ø–∏–ª –º–æ–π –ø—Ä–æ–¥—É–∫—Ç?¬ª ‚Äî –ª—é–¥–∏ –≤—Å–µ–≥–¥–∞ —Å–∫–∞–∂—É—Ç –¥–∞. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Å–ø—Ä–∞—à–∏–≤–∞–π –æ –ø—Ä–æ—à–ª–æ–º –æ–ø—ã—Ç–µ.",
            },
            {
                type: "paragraph",
                text: "–ü—Ä–∞–≤–∏–ª–∞ CustDev-–∏–Ω—Ç–µ—Ä–≤—å—é: 1) –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–æ–¥–∞–≤–∞–π. 2) –ó–∞–¥–∞–≤–∞–π –æ—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã. 3) –°–ø—Ä–∞—à–∏–≤–∞–π –æ –ø—Ä–æ—à–ª–æ–º, –∞ –Ω–µ –æ –±—É–¥—É—â–µ–º. 4) –ò—â–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –æ—Ç–≤–µ—Ç–∞—Ö.",
            },
        ],
        quiz: [
            {
                question: "–ö–∞–∫–æ–π –≤–æ–ø—Ä–æ—Å –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è CustDev-–∏–Ω—Ç–µ—Ä–≤—å—é?",
                options: [
                    "–í–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è –º–æ—è –∏–¥–µ—è?",
                    "–ö—É–ø–∏—Ç–µ –ª–∏ –≤—ã —Ç–∞–∫–æ–π –ø—Ä–æ–¥—É–∫—Ç?",
                    "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, –∫–∞–∫ –≤—ã —Ä–µ—à–∞–ª–∏ —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑?",
                    "–°–∫–æ–ª—å–∫–æ –≤—ã –≥–æ—Ç–æ–≤—ã –∑–∞–ø–ª–∞—Ç–∏—Ç—å?",
                ],
                correct: 2,
            },
        ],
    },
    {
        stage: "validation",
        title: "–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≥–∏–ø–æ—Ç–µ–∑—ã",
        duration_min: 6,
        audience: "all",
        sort_order: 2,
        content: [
            { type: "heading", text: "–ì–∏–ø–æ—Ç–µ–∑—ã –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã" },
            {
                type: "paragraph",
                text: "–•–æ—Ä–æ—à–∞—è –≥–∏–ø–æ—Ç–µ–∑–∞ ‚Äî —ç—Ç–æ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –æ–ø—Ä–æ–≤–µ—Ä–≥–Ω—É—Ç—å. –§–æ—Ä–º–∞—Ç: ¬´–ú—ã –≤–µ—Ä–∏–º, —á—Ç–æ [—Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è] –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—É [–ø—Ä–æ–±–ª–µ–º–∞], –∏ —Ä–µ—à–∏—Ç –µ—ë —Å –ø–æ–º–æ—â—å—é [—Ä–µ—à–µ–Ω–∏–µ]¬ª.",
            },
            {
                type: "callout",
                variant: "tip",
                text: "–ò—Å–ø–æ–ª—å–∑—É–π —Ñ–æ—Ä–º–∞—Ç: ¬´–ú—ã –≤–µ—Ä–∏–º, —á—Ç–æ... –ú—ã —É–∑–Ω–∞–µ–º —ç—Ç–æ, –µ—Å–ª–∏...¬ª ‚Äî —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞.",
            },
            {
                type: "paragraph",
                text: "–¢—Ä–∏ —É—Ä–æ–≤–Ω—è –ø—Ä–æ–≤–µ—Ä–∫–∏: 1) –ò–Ω—Ç–µ—Ä–≤—å—é (–ø—Ä–æ–±–ª–µ–º–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?), 2) –õ–µ–Ω–¥–∏–Ω–≥ + —Ä–µ–∫–ª–∞–º–∞ (–µ—Å—Ç—å —Å–ø—Ä–æ—Å?), 3) MVP (–≥–æ—Ç–æ–≤—ã –ø–ª–∞—Ç–∏—Ç—å?).",
            },
        ],
        quiz: [
            {
                question: "–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –≥–∏–ø–æ—Ç–µ–∑—É —Ö–æ—Ä–æ—à–µ–π?",
                options: [
                    "–û–Ω–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∞—è",
                    "–û–Ω–∞ –æ—á–µ–Ω—å –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏ –¥–ª–∏–Ω–Ω–∞—è",
                    "–ï—ë –º–æ–∂–Ω–æ –æ–ø—Ä–æ–≤–µ—Ä–≥–Ω—É—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–º",
                    "–í—Å–µ —Å –Ω–µ–π —Å–æ–≥–ª–∞—Å–Ω—ã",
                ],
                correct: 2,
            },
        ],
    },

    // ‚îÄ‚îÄ‚îÄ BUSINESS MODEL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        stage: "business_model",
        title: "–í–≤–µ–¥–µ–Ω–∏–µ –≤ BMC",
        duration_min: 8,
        audience: "all",
        sort_order: 1,
        content: [
            { type: "heading", text: "Business Model Canvas" },
            {
                type: "paragraph",
                text: "BMC ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –û—Å—Ç–µ—Ä–≤–∞–ª—å–¥–µ—Ä–∞ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª–∏. 9 –±–ª–æ–∫–æ–≤ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã: –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤.",
            },
            {
                type: "paragraph",
                text: "9 –±–ª–æ–∫–æ–≤: –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã, –ö–ª—é—á–µ–≤—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã, –¶–µ–Ω–Ω–æ—Å—Ç–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, –û—Ç–Ω–æ—à–µ–Ω–∏—è —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –ö–∞–Ω–∞–ª—ã, –°–µ–≥–º–µ–Ω—Ç—ã –∫–ª–∏–µ–Ω—Ç–æ–≤, –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞—Ç—Ä–∞—Ç, –ü–æ—Ç–æ–∫–∏ –¥–æ—Ö–æ–¥–æ–≤.",
            },
            {
                type: "callout",
                variant: "tip",
                text: "–ù–∞—á–Ω–∏ —Å –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã (–∫–ª–∏–µ–Ω—Ç—ã), –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ –ª–µ–≤–æ–π (—Ä–µ—Å—É—Ä—Å—ã). –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –º–æ–¥–µ–ª—å –æ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏, –∞ –Ω–µ –æ—Ç –ø—Ä–æ–¥—É–∫—Ç–∞.",
            },
        ],
        quiz: [
            {
                question: "–°–∫–æ–ª—å–∫–æ –±–ª–æ–∫–æ–≤ –≤ Business Model Canvas?",
                options: ["7", "9", "12", "5"],
                correct: 1,
            },
        ],
    },
    {
        stage: "business_model",
        title: "–Æ–Ω–∏—Ç-—ç–∫–æ–Ω–æ–º–∏–∫–∞ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö",
        duration_min: 7,
        audience: "all",
        sort_order: 2,
        content: [
            { type: "heading", text: "–ó–∞—á–µ–º —Å—á–∏—Ç–∞—Ç—å —é–Ω–∏—Ç-—ç–∫–æ–Ω–æ–º–∏–∫—É?" },
            {
                type: "paragraph",
                text: "–Æ–Ω–∏—Ç-—ç–∫–æ–Ω–æ–º–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –ø—Ä–∏–≤–ª–µ—á—å –∏ –æ–±—Å–ª—É–∂–∏—Ç—å –æ–¥–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (CAC) –∏ —Å–∫–æ–ª—å–∫–æ –æ–Ω –ø—Ä–∏–Ω–µ—Å—ë—Ç –¥–µ–Ω–µ–≥ –∑–∞ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (LTV).",
            },
            {
                type: "callout",
                variant: "info",
                text: "–ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ: LTV/CAC ‚â• 3. –ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç –ø—Ä–∏–Ω–æ—Å–∏—Ç –º–∏–Ω–∏–º—É–º –≤ 3 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ, —á–µ–º —Å—Ç–æ–∏—Ç –µ–≥–æ –ø—Ä–∏–≤–ª–µ—á—å ‚Äî –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å –∑–¥–æ—Ä–æ–≤–∞.",
            },
            {
                type: "paragraph",
                text: "–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏: CAC = –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ / –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, LTV = ARPU / Churn, Payback Period = CAC / ARPU.",
            },
        ],
        quiz: [
            {
                question: "–ö–∞–∫–æ–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ LTV/CAC —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–¥–æ—Ä–æ–≤—ã–º?",
                options: ["1x", "2x", "3x", "5x"],
                correct: 2,
            },
        ],
    },

    // ‚îÄ‚îÄ‚îÄ MVP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        stage: "mvp",
        title: "Lean MVP –ø–æ–¥—Ö–æ–¥",
        duration_min: 7,
        audience: "all",
        sort_order: 1,
        content: [
            { type: "heading", text: "–ß—Ç–æ —Ç–∞–∫–æ–µ MVP?" },
            {
                type: "paragraph",
                text: "MVP (Minimum Viable Product) ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª—é—á–µ–≤–æ–π –≥–∏–ø–æ—Ç–µ–∑—ã. –≠—Ç–æ –ù–ï —É—Ä–µ–∑–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ ‚Äî —ç—Ç–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç.",
            },
            {
                type: "callout",
                variant: "warning",
                text: "–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: —Å—Ç—Ä–æ–∏—Ç—å MVP 3 –º–µ—Å—è—Ü–∞. –•–æ—Ä–æ—à–∏–π MVP –¥–µ–ª–∞–µ—Ç—Å—è –∑–∞ 1-2 –Ω–µ–¥–µ–ª–∏.",
            },
            {
                type: "paragraph",
                text: "–¢–∏–ø—ã MVP: –ª–µ–Ω–¥–∏–Ω–≥ + —Ñ–æ—Ä–º–∞, Wizard of Oz (—Ä—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞), Concierge (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å), –≤–∏–¥–µ–æ-–¥–µ–º–æ, –ø—Ä–æ—Ç–æ—Ç–∏–ø –≤ Figma.",
            },
        ],
        quiz: [
            {
                question: "–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å MVP ‚Äî —ç—Ç–æ:",
                options: [
                    "–ü—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ –Ω–∞ –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤",
                    "–°–æ–∑–¥–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç",
                    "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–ª—é—á–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É –∑–∞ –º–∏–Ω–∏–º—É–º —Ä–µ—Å—É—Ä—Å–æ–≤",
                    "–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å –ø–µ—Ä–≤—ã–µ –¥–µ–Ω—å–≥–∏",
                ],
                correct: 2,
            },
        ],
    },
    {
        stage: "mvp",
        title: "No-code –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã",
        duration_min: 6,
        audience: "all",
        sort_order: 2,
        content: [
            { type: "heading", text: "–°—Ç—Ä–æ–π –±–µ–∑ –∫–æ–¥–∞" },
            {
                type: "paragraph",
                text: "No-code –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –±–µ–∑ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è MVP ‚Äî –±—ã—Å—Ç—Ä–æ, –¥—ë—à–µ–≤–æ, –∏ –º–æ–∂–Ω–æ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å.",
            },
            {
                type: "paragraph",
                text: "–¢–æ–ø –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: Tilda/Wix (–ª–µ–Ω–¥–∏–Ω–≥–∏), Notion (–±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö), Zapier (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏), Airtable (CRM), Figma (–ø—Ä–æ—Ç–æ—Ç–∏–ø—ã), Typeform (–æ–ø—Ä–æ—Å—ã).",
            },
            {
                type: "callout",
                variant: "tip",
                text: "–ö–æ–º–±–∏–Ω–∏—Ä—É–π: Tilda (—Ñ—Ä–æ–Ω—Ç) + Airtable (–±–∞–∑–∞) + Zapier (–ª–æ–≥–∏–∫–∞) = –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π SaaS –±–µ–∑ —Å—Ç—Ä–æ—á–∫–∏ –∫–æ–¥–∞.",
            },
        ],
        quiz: [
            {
                question: "–ö–∞–∫–æ–µ –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ no-code –¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø–∞?",
                options: [
                    "–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∞",
                    "–°–∫–æ—Ä–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –∏ –Ω–∏–∑–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å MVP",
                    "–õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –º–∏–ª–ª–∏–æ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
                    "–ù–µ –Ω—É–∂–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –≤–æ–æ–±—â–µ",
                ],
                correct: 1,
            },
        ],
    },

    // ‚îÄ‚îÄ‚îÄ PITCH ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        stage: "pitch",
        title: "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∏—Ç—á-–¥–µ–∫–∞",
        duration_min: 8,
        audience: "all",
        sort_order: 1,
        content: [
            { type: "heading", text: "10 —Å–ª–∞–π–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã" },
            {
                type: "paragraph",
                text: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∏—Ç—á-–¥–µ–∫–∞: 1) –ü—Ä–æ–±–ª–µ–º–∞, 2) –†–µ—à–µ–Ω–∏–µ, 3) –†—ã–Ω–æ–∫, 4) –ü—Ä–æ–¥—É–∫—Ç, 5) –ë–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å, 6) –¢—Ä–∞–∫—Ü–∏—è, 7) –ö–æ–º–∞–Ω–¥–∞, 8) –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã, 9) –§–∏–Ω–∞–Ω—Å—ã, 10) –ó–∞–ø—Ä–æ—Å.",
            },
            {
                type: "callout",
                variant: "info",
                text: "–ü—Ä–∞–≤–∏–ª–æ: 10 —Å–ª–∞–π–¥–æ–≤, 20 –º–∏–Ω—É—Ç, —à—Ä–∏—Ñ—Ç –Ω–µ –º–µ–Ω–µ–µ 30pt. –≠—Ç–æ —Ñ–æ—Ä–º—É–ª–∞ –ì–∞—è –ö–∞–≤–∞—Å–∞–∫–∏.",
            },
            {
                type: "paragraph",
                text: "–ì–ª–∞–≤–Ω—ã–π —Å–ª–∞–π–¥ ‚Äî –ü—Ä–æ–±–ª–µ–º–∞. –ï—Å–ª–∏ –∏–Ω–≤–µ—Å—Ç–æ—Ä –Ω–µ –≤–µ—Ä–∏—Ç –≤ –ø—Ä–æ–±–ª–µ–º—É, –æ—Å—Ç–∞–ª—å–Ω–æ–µ –Ω–µ –≤–∞–∂–Ω–æ. –ò—Å–ø–æ–ª—å–∑—É–π —Ä–µ–∞–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∏ –∏—Å—Ç–æ—Ä–∏–∏.",
            },
        ],
        quiz: [
            {
                question: "–ö–∞–∫–æ–π —Å–ª–∞–π–¥ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –≤ –ø–∏—Ç—á-–¥–µ–∫–µ?",
                options: [
                    "–ö–æ–º–∞–Ω–¥–∞",
                    "–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–æ–≥–Ω–æ–∑—ã",
                    "–ü—Ä–æ–±–ª–µ–º–∞",
                    "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã",
                ],
                correct: 2,
            },
        ],
    },
    {
        stage: "pitch",
        title: "–ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç—å —Å –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞–º–∏",
        duration_min: 6,
        audience: "all",
        sort_order: 2,
        content: [
            { type: "heading", text: "Pitching 101" },
            {
                type: "paragraph",
                text: "Elevator pitch ‚Äî 30-—Å–µ–∫—É–Ω–¥–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ç–≤–æ–µ–π –∏–¥–µ–∏. –§–æ—Ä–º—É–ª–∞: ¬´–ú—ã –ø–æ–º–æ–≥–∞–µ–º [–∫–æ–º—É] —Ä–µ—à–∏—Ç—å [–ø—Ä–æ–±–ª–µ–º—É] —Å –ø–æ–º–æ—â—å—é [—Ä–µ—à–µ–Ω–∏—è], –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç [–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤]¬ª.",
            },
            {
                type: "callout",
                variant: "tip",
                text: "–ù–∞–∏–∑—É—Å—Ç—å –≤—ã—É—á–∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞: ¬´–ö–∞–∫ –≤—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ?¬ª, ¬´–ö–∞–∫–æ–π —Ä—ã–Ω–æ–∫?¬ª, ¬´–ü–æ—á–µ–º—É –≤—ã?¬ª, ¬´–ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ?¬ª",
            },
            {
                type: "paragraph",
                text: "–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏: –≥–æ–≤–æ—Ä–∏—Ç—å –æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤–º–µ—Å—Ç–æ —Ü–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–µ –∑–Ω–∞—Ç—å —Å–≤–æ–∏ —Ü–∏—Ñ—Ä—ã, –Ω–µ –≥–æ—Ç–æ–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∫ –∏–Ω–≤–µ—Å—Ç–æ—Ä—É, –≤–æ–ª–Ω–æ–≤–∞—Ç—å—Å—è –æ NDA.",
            },
        ],
        quiz: [
            {
                question: "–°–∫–æ–ª—å–∫–æ –¥–ª–∏—Ç—Å—è –∏–¥–µ–∞–ª—å–Ω—ã–π elevator pitch?",
                options: ["5 –º–∏–Ω—É—Ç", "2 –º–∏–Ω—É—Ç—ã", "30 —Å–µ–∫—É–Ω–¥", "10 –º–∏–Ω—É—Ç"],
                correct: 2,
            },
        ],
    },
];

async function main() {
    console.log("üå± Seeding 10 lessons...\n");

    for (const lesson of lessons) {
        const { error } = await supabase.from("lessons").upsert(
            {
                stage: lesson.stage,
                title: lesson.title,
                content: lesson.content,
                quiz: lesson.quiz,
                duration_min: lesson.duration_min,
                audience: lesson.audience,
                sort_order: lesson.sort_order,
            },
            { onConflict: "stage,sort_order", ignoreDuplicates: true }
        );

        if (error) {
            console.error(`‚ùå Error seeding "${lesson.title}":`, error.message);
        } else {
            console.log(`  ‚úÖ ${lesson.stage}: ${lesson.title}`);
        }
    }

    // Update stage_checklists to link lessons
    console.log("\nüîó Linking lessons to checklists...\n");

    const { data: allLessons } = await supabase
        .from("lessons")
        .select("id, stage, sort_order");

    if (allLessons) {
        // Link first lesson of each stage to a relevant checklist item
        const stageChecklistMapping: Record<string, string> = {
            idea: "formulate_idea",
            validation: "custdev_questions",
            business_model: "fill_bmc",
            mvp: "define_features",
            pitch: "create_pitch_deck",
        };

        for (const [stage, itemKey] of Object.entries(stageChecklistMapping)) {
            const lesson = allLessons.find(
                (l) => l.stage === stage && l.sort_order === 1
            );
            if (lesson) {
                const { error } = await supabase
                    .from("stage_checklists")
                    .update({ linked_lesson_id: lesson.id })
                    .eq("stage", stage)
                    .eq("item_key", itemKey);

                if (error) {
                    console.error(
                        `‚ùå Error linking ${stage}/${itemKey}:`,
                        error.message
                    );
                } else {
                    console.log(`  üîó ${stage}.${itemKey} ‚Üí ${lesson.id}`);
                }
            }
        }
    }

    console.log("\n‚ú® Done!");
}

main().catch(console.error);
